# SafetyNet HER - API & Integration Documentation

## 1. Google Gemini API (The Decision Engine)

We utilize the Gemini API to bridge the gap between "Raw Fear" and "Organized Response."

### A. Real-time Analysis (gemini-3-flash-preview)
**Purpose:** Instant triage of distress signals.
**Input:** Raw user text from SMS or App.
**Output:** Structured JSON determining the scale of the community response.
**Strategy:** Few-shot prompting to ensure the model distinguishes between "uncomfortable" (Wellness Check) and "imminent danger" (Emergency Dispatch).

### B. Pattern Analysis (gemini-3-pro-preview)
**Purpose:** Neighborhood-scale proactive safety forecasting.
**Input:** Batched incident logs (Time, Lat/Lng, Category).
**Output:** Narrative patterns and specific prevention tactics (e.g., "Increase lighting at Sector 4").

## 2. MongoDB Geospatial API
**Purpose:** Locating the "Nearest Neighbor."
We use the `$near` operator on a 2dsphere index. This ensures that when a woman triggers an alert, the "Help" is coming from someone within a 2-5 minute walking radius, significantly beating 911 response times (avg 18m).

## 3. Twilio Programmable SMS
**Purpose:** Accessibility.
SafetyNet HER is "SMS-First" because survivors in high-stress situations often cannot look at a screen or have low data. 
- Incoming: `POST /api/sms/incoming`
- Outgoing: Status updates for user reassurance.

## 4. ElevenLabs TTS
**Purpose:** The "Exit Strategy."
By utilizing realistic, high-latency voices, the "Fake Call" feature creates a legitimate-sounding social excuse for women to leave uncomfortable settings (bars, dates, taxis) without escalating conflict.